{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"F:\\\\Work\\\\Anees\\\\EA Fitness\\\\app\\\\node_modules\\\\react-native-swiper-flatlist\\\\src\\\\components\\\\SwiperFlatList\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { PureComponent, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Pagination from \"../Pagination\";\n\nvar SwiperFlatList = function (_PureComponent) {\n  _inherits(SwiperFlatList, _PureComponent);\n\n  var _super = _createSuper(SwiperFlatList);\n\n  function SwiperFlatList(_props) {\n    var _this;\n\n    _classCallCheck(this, SwiperFlatList);\n\n    _this = _super.call(this, _props);\n\n    _this.setup = function (props) {\n      var children = props.children,\n          data = props.data,\n          renderItem = props.renderItem,\n          renderAll = props.renderAll;\n\n      if (children) {\n        _this._data = Array.isArray(children) ? children : [children];\n        _this._renderItem = _this.renderChildren;\n      } else if (data) {\n        _this._data = data;\n        _this._renderItem = renderItem;\n      }\n\n      _this._initialNumToRender = renderAll ? _this._data.length : 1;\n    };\n\n    _this._autoplay = function (index) {\n      var _this$props = _this.props,\n          autoplayDelay = _this$props.autoplayDelay,\n          autoplayLoop = _this$props.autoplayLoop;\n\n      if (_this.autoplayTimer) {\n        clearTimeout(_this.autoplayTimer);\n      }\n\n      var isEnd = index === _this._data.length - 1;\n\n      if (autoplayLoop || !isEnd) {\n        _this.autoplayTimer = setTimeout(function () {\n          var nextIndex = (index + 1) % _this._data.length;\n\n          _this._scrollToIndex(nextIndex, !isEnd);\n        }, autoplayDelay * 1000);\n      }\n\n      if (isEnd) {\n        setTimeout(function () {\n          _this.autoplayTimer = setTimeout(function () {\n            return _this._scrollToIndex(1, true);\n          }, autoplayDelay * 1000);\n        }, autoplayDelay * 1000);\n      }\n    };\n\n    _this._scrollToIndex = function (index) {\n      var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var autoplay = _this.props.autoplay;\n\n      if (autoplay && Platform.OS === 'android') {\n        _this._autoplay(index);\n      }\n\n      var params = {\n        animated: animated,\n        index: index\n      };\n\n      _this.setState(function () {\n        if (_this.flatListRef) {\n          _this.flatListRef.scrollToIndex(params);\n        }\n\n        return {\n          paginationIndex: index\n        };\n      });\n    };\n\n    _this._onMomentumScrollEnd = function (e) {\n      var _this$props2 = _this.props,\n          autoplay = _this$props2.autoplay,\n          vertical = _this$props2.vertical,\n          onMomentumScrollEnd = _this$props2.onMomentumScrollEnd;\n      var _e$nativeEvent = e.nativeEvent,\n          contentOffset = _e$nativeEvent.contentOffset,\n          layoutMeasurement = _e$nativeEvent.layoutMeasurement;\n      var index;\n\n      if (vertical) {\n        index = Math.round(contentOffset.y / layoutMeasurement.height);\n      } else {\n        index = Math.round(contentOffset.x / layoutMeasurement.width);\n      }\n\n      if (autoplay) {\n        _this._autoplay(index);\n      }\n\n      _this.setState({\n        paginationIndex: index\n      });\n\n      if (onMomentumScrollEnd) {\n        onMomentumScrollEnd({\n          index: index\n        }, e);\n      }\n    };\n\n    _this._onScrollToIndexFailed = function (info) {\n      setTimeout(function () {\n        return _this._scrollToIndex(info.index, false);\n      });\n    };\n\n    _this._keyExtractor = function (item, index) {\n      return index.toString();\n    };\n\n    _this.getCurrentIndex = function () {\n      return _this.state.paginationIndex;\n    };\n\n    _this.scrollToIndex = function () {\n      var _this2;\n\n      return (_this2 = _this)._scrollToIndex.apply(_this2, arguments);\n    };\n\n    _this.renderChildren = function (_ref) {\n      var item = _ref.item;\n      return item;\n    };\n\n    _this.setup(_props);\n\n    _this.state = {\n      paginationIndex: _props.index\n    };\n    return _this;\n  }\n\n  _createClass(SwiperFlatList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props3 = this.props,\n          autoplay = _this$props3.autoplay,\n          index = _this$props3.index;\n\n      if (autoplay) {\n        this._autoplay(index);\n      }\n\n      if (index !== 0) {\n        this._scrollToIndex(index, false);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.setup(this.props);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.autoplayTimer) {\n        clearTimeout(this.autoplayTimer);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props4 = this.props,\n          vertical = _this$props4.vertical,\n          showPagination = _this$props4.showPagination,\n          children = _this$props4.children,\n          PaginationComponent = _this$props4.PaginationComponent,\n          paginationActiveColor = _this$props4.paginationActiveColor,\n          paginationDefaultColor = _this$props4.paginationDefaultColor,\n          paginationStyle = _this$props4.paginationStyle,\n          paginationStyleItem = _this$props4.paginationStyleItem,\n          props = _objectWithoutProperties(_this$props4, [\"vertical\", \"showPagination\", \"children\", \"PaginationComponent\", \"paginationActiveColor\", \"paginationDefaultColor\", \"paginationStyle\", \"paginationStyleItem\"]);\n\n      var flatListProps = _objectSpread(_objectSpread({\n        ref: function ref(component) {\n          _this3.flatListRef = component;\n        },\n        keyExtractor: this._keyExtractor,\n        horizontal: !vertical,\n        showsHorizontalScrollIndicator: false,\n        showsVerticalScrollIndicator: false,\n        pagingEnabled: true\n      }, props), {}, {\n        onMomentumScrollEnd: this._onMomentumScrollEnd,\n        onScrollToIndexFailed: this._onScrollToIndexFailed,\n        data: this._data,\n        renderItem: this._renderItem,\n        initialNumToRender: this._initialNumToRender\n      });\n\n      var paginationProps = {\n        data: this._data,\n        paginationIndex: this.state.paginationIndex,\n        scrollToIndex: this._scrollToIndex,\n        paginationActiveColor: paginationActiveColor,\n        paginationDefaultColor: paginationDefaultColor,\n        paginationStyle: paginationStyle,\n        paginationStyleItem: paginationStyleItem\n      };\n      return React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 7\n        }\n      }, React.createElement(FlatList, _extends({}, flatListProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 9\n        }\n      })), showPagination && React.createElement(PaginationComponent, _extends({}, paginationProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 28\n        }\n      })));\n    }\n  }]);\n\n  return SwiperFlatList;\n}(PureComponent);\n\nSwiperFlatList.propTypes = {\n  data: PropTypes.array.isRequired,\n  onMomentumScrollEnd: PropTypes.func,\n  vertical: PropTypes.bool.isRequired,\n  index: PropTypes.number.isRequired,\n  renderAll: PropTypes.bool,\n  renderItem: PropTypes.func,\n  children: function children(props, propName) {\n    var data = props.data;\n\n    if (!props[propName] && !data) {\n      return new Error('Invalid props, `data` or `children` is required');\n    }\n\n    if (data && data.length !== 0 && !props.renderItem) {\n      return new Error('Invalid props, `renderItem` is required');\n    }\n\n    return undefined;\n  },\n  showPagination: PropTypes.bool.isRequired,\n  PaginationComponent: PropTypes.func,\n  paginationActiveColor: Pagination.propTypes.paginationActiveColor,\n  paginationDefaultColor: Pagination.propTypes.paginationDefaultColor,\n  paginationStyle: Pagination.propTypes.paginationStyle,\n  paginationStyleItem: Pagination.propTypes.paginationStyleItem,\n  autoplayDelay: PropTypes.number.isRequired,\n  autoplay: PropTypes.bool.isRequired,\n  autoplayLoop: PropTypes.bool.isRequired\n};\nSwiperFlatList.defaultProps = {\n  index: 0,\n  data: [],\n  autoplayDelay: 3,\n  autoplayLoop: false,\n  autoplay: false,\n  showPagination: false,\n  vertical: false,\n  renderAll: false,\n  PaginationComponent: Pagination\n};\nexport { SwiperFlatList as default };","map":{"version":3,"sources":["F:/Work/Anees/EA Fitness/app/node_modules/react-native-swiper-flatlist/src/components/SwiperFlatList/index.js"],"names":["React","PureComponent","Fragment","PropTypes","Pagination","SwiperFlatList","props","setup","children","data","renderItem","renderAll","_data","Array","isArray","_renderItem","renderChildren","_initialNumToRender","length","_autoplay","index","autoplayDelay","autoplayLoop","autoplayTimer","clearTimeout","isEnd","setTimeout","nextIndex","_scrollToIndex","animated","autoplay","Platform","OS","params","setState","flatListRef","scrollToIndex","paginationIndex","_onMomentumScrollEnd","e","vertical","onMomentumScrollEnd","nativeEvent","contentOffset","layoutMeasurement","Math","round","y","height","x","width","_onScrollToIndexFailed","info","_keyExtractor","item","toString","getCurrentIndex","state","showPagination","PaginationComponent","paginationActiveColor","paginationDefaultColor","paginationStyle","paginationStyleItem","flatListProps","ref","component","keyExtractor","horizontal","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","pagingEnabled","onScrollToIndexFailed","initialNumToRender","paginationProps","propTypes","array","isRequired","func","bool","number","propName","Error","undefined","defaultProps"],"mappings":"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","sourcesContent":["import React, { PureComponent, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { FlatList, Platform } from 'react-native';\n\nimport Pagination from '../Pagination';\n\nexport default class SwiperFlatList extends PureComponent {\n  static propTypes = {\n    data: PropTypes.array.isRequired,\n    onMomentumScrollEnd: PropTypes.func,\n    vertical: PropTypes.bool.isRequired,\n    index: PropTypes.number.isRequired,\n    renderAll: PropTypes.bool,\n    renderItem: PropTypes.func,\n    // Only is allowed children or data not both\n    children(props, propName) {\n      const { data } = props;\n      if (!props[propName] && !data) {\n        return new Error('Invalid props, `data` or `children` is required');\n      }\n      if (data && data.length !== 0 && !props.renderItem) {\n        return new Error('Invalid props, `renderItem` is required');\n      }\n      return undefined;\n    },\n\n    // Pagination\n    showPagination: PropTypes.bool.isRequired,\n    PaginationComponent: PropTypes.func,\n    paginationActiveColor: Pagination.propTypes.paginationActiveColor,\n    paginationDefaultColor: Pagination.propTypes.paginationDefaultColor,\n    paginationStyle: Pagination.propTypes.paginationStyle,\n    paginationStyleItem: Pagination.propTypes.paginationStyleItem,\n\n    // Autoplay\n    autoplayDelay: PropTypes.number.isRequired,\n    autoplay: PropTypes.bool.isRequired,\n    // autoplayDirection: PropTypes.bool.isRequired,\n    autoplayLoop: PropTypes.bool.isRequired,\n  };\n\n  static defaultProps = {\n    index: 0,\n    data: [],\n    autoplayDelay: 3,\n    // autoplayDirection: true,\n    autoplayLoop: false,\n    autoplay: false,\n    showPagination: false,\n    vertical: false,\n    renderAll: false,\n    PaginationComponent: Pagination,\n  };\n\n  constructor(props) {\n    super(props);\n    this.setup(props);\n    this.state = { paginationIndex: props.index };\n  }\n\n  componentDidMount() {\n    const { autoplay, index } = this.props;\n    if (autoplay) {\n      this._autoplay(index);\n    }\n\n    if (index !== 0) {\n      this._scrollToIndex(index, false);\n    }\n  }\n\n  componentDidUpdate() {\n    this.setup(this.props);\n  }\n\n  componentWillUnmount() {\n    if (this.autoplayTimer) {\n      clearTimeout(this.autoplayTimer);\n    }\n  }\n\n  setup = props => {\n    const { children, data, renderItem, renderAll } = props;\n    if (children) {\n      this._data = Array.isArray(children) ? children : [children];\n      this._renderItem = this.renderChildren;\n    } else if (data) {\n      this._data = data;\n      this._renderItem = renderItem;\n    }\n    // Items to render in the initial batch.\n    this._initialNumToRender = renderAll ? this._data.length : 1;\n  };\n\n  _autoplay = index => {\n    const { autoplayDelay, autoplayLoop } = this.props;\n    if (this.autoplayTimer) {\n      clearTimeout(this.autoplayTimer);\n    }\n    const isEnd = index === this._data.length - 1;\n\n    if (autoplayLoop || !isEnd) {\n      this.autoplayTimer = setTimeout(() => {\n        const nextIndex = (index + 1) % this._data.length;\n        this._scrollToIndex(nextIndex, !isEnd);\n      }, autoplayDelay * 1000);\n    }\n    if (isEnd) {\n      // When scroll to the end and animated is false need to restart the autoplay\n      setTimeout(() => {\n        this.autoplayTimer = setTimeout(() => this._scrollToIndex(1, true), autoplayDelay * 1000);\n      }, autoplayDelay * 1000);\n    }\n  };\n\n  _scrollToIndex = (index, animated = true) => {\n    const { autoplay } = this.props;\n    if (autoplay && Platform.OS === 'android') {\n      this._autoplay(index);\n    }\n    const params = { animated, index };\n    this.setState(() => {\n      if (this.flatListRef) {\n        this.flatListRef.scrollToIndex(params);\n      }\n      return { paginationIndex: index };\n    });\n  };\n\n  _onMomentumScrollEnd = e => {\n    const { autoplay, vertical, onMomentumScrollEnd } = this.props;\n    const { contentOffset, layoutMeasurement } = e.nativeEvent;\n    let index;\n    if (vertical) {\n      index = Math.round(contentOffset.y / layoutMeasurement.height);\n    } else {\n      // Divide the horizontal offset by the width of the view to see which page is visible\n      index = Math.round(contentOffset.x / layoutMeasurement.width);\n    }\n\n    if (autoplay) {\n      this._autoplay(index);\n    }\n    this.setState({ paginationIndex: index });\n\n    if (onMomentumScrollEnd) {\n      onMomentumScrollEnd({ index }, e);\n    }\n  };\n\n  _onScrollToIndexFailed = info => {\n    setTimeout(() => this._scrollToIndex(info.index, false));\n  };\n\n  _keyExtractor = (item, index) => index.toString();\n\n  getCurrentIndex = () => this.state.paginationIndex;\n\n  scrollToIndex = (...args) => this._scrollToIndex(...args);\n\n  renderChildren = ({ item }) => item;\n\n  render() {\n    const {\n      vertical,\n      showPagination,\n      children,\n      PaginationComponent,\n      paginationActiveColor,\n      paginationDefaultColor,\n      paginationStyle,\n      paginationStyleItem,\n      ...props\n    } = this.props;\n\n    const flatListProps = {\n      ref: component => {\n        this.flatListRef = component;\n      },\n      keyExtractor: this._keyExtractor,\n      horizontal: !vertical,\n      showsHorizontalScrollIndicator: false,\n      showsVerticalScrollIndicator: false,\n      pagingEnabled: true,\n      ...props,\n      onMomentumScrollEnd: this._onMomentumScrollEnd,\n      onScrollToIndexFailed: this._onScrollToIndexFailed,\n      data: this._data,\n      renderItem: this._renderItem,\n      initialNumToRender: this._initialNumToRender,\n      // inverted\n      // onViewableItemsChanged={(data, index, x) => {\n      // getItemLayout={(data, index, x) => {\n      // initialScrollIndex={this.state.index}\n      // ListFooterComponent=\n      // ListEmptyComponent loading...\n    };\n\n    const paginationProps = {\n      data: this._data,\n      paginationIndex: this.state.paginationIndex,\n      scrollToIndex: this._scrollToIndex,\n      paginationActiveColor,\n      paginationDefaultColor,\n      paginationStyle,\n      paginationStyleItem,\n    };\n\n    return (\n      <Fragment>\n        <FlatList {...flatListProps} />\n        {showPagination && <PaginationComponent {...paginationProps} />}\n      </Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}